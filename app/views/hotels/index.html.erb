<div class="page-header">
  <h2 class="header-title">Hotels</h2>
  <div class="header-sub-title">
    <nav class="breadcrumb breadcrumb-dash">
      <a href="/" class="breadcrumb-item"><i class="ti-home p-r-5"></i>Home</a>
      <span class="breadcrumb-item active">Hotels</span>
    </nav>
  </div>
</div>
<div class="card">
  <div class="card-body">
    <button data-toggle="modal" data-target="#side-modal-r" class="btn btn-gradient-success">New hotel</button>

    <table class="table table-bordered table-striped table-hover">
      <thead>
      <tr>
        <th>Hotel</th>
        <th>City</th>
        <th>Count type</th>
        <th>Active?</th>
        <th>Action</th>
      </tr>
      </thead>

      <tbody>

      <% @hotels.each do |hotel| %>
        <tr>
          <td>
            <%= hotel.name %>
          </td>
          <td>
            <%= hotel.city %>
          </td>
          <td>
            <%= hotel.origins.count %>
          </td>
          <td>
            <% if hotel.active? %><span class="icon-holder">
                                    <i class="mdi mdi-check"></i>
                                </span><% else %><span class="icon-holder">
                                    <i class="mdi mdi-window-close"></i>
                                </span><% end %>
          </td>
          <td>
            <button data-toggle="modal" data-target="#side-modal-r<%= hotel.id %>" class="btn btn-gradient-success">Edit</button>
          </td>
        </tr>
        <div class="modal modal-right fade " id="side-modal-r<%= hotel.id %>">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="side-modal-wrapper">
                <div class="vertical-align">
                  <div class="table-cell">
                    <div class="modal-body">
                      <div class="p-h-15">
                        <h4>Edit <%= hotel.name %></h4>
                        <p class="m-b-15 font-size-13">Please edit hotel</p>
                        <%= form_with(model: hotel, local: true) do |form| %>
                          <div class="form-group">
                            <%= form.text_field :name, class: "form-control", placeholder: 'Name' %>
                          </div>
                          <div class="form-group">
                            <%= form.text_field :city, class: "form-control", placeholder: 'City'  %>
                          </div>
                          <div class="form-group">
                            <%= form.text_field :origin_url, class: "form-control", placeholder: 'origin url'  %>
                          </div>
                          <div >
                            <%= form.check_box :active %>
                            <label for="agreement">Active?</label>
                          </div>
                          <br>
                          <%= form.submit 'Save', class: "btn btn-success" %>

                        <% end %>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
<div class="modal modal-right fade " id="side-modal-r">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="side-modal-wrapper">
        <div class="vertical-align">
          <div class="table-cell">
            <div class="modal-body">
              <div class="p-h-15">
                <h4>New hotel</h4>
                <p class="m-b-15 font-size-13">Please new hotel</p>
                <%= form_with(model: @hotel, local: true) do |form| %>
                  <div class="form-group">
                    <%= form.text_field :name, class: "form-control", placeholder: 'Name' %>
                  </div>
                  <div class="form-group">
                    <%= form.text_field :city, class: "form-control", placeholder: 'City'  %>
                  </div>
                  <div class="form-group">
                    <%= form.text_field :origin_url, class: "form-control", placeholder: 'origin url'  %>
                  </div>
                  <div >
                    <%= form.check_box :active %>
                    <label for="agreement">Active?</label>
                  </div>
                  <br>
                  <%= form.submit 'Save', class: "btn btn-success" %>

                <% end %>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>